# 零、前言

现在是开始使用 HTML5 的时候了。HTML5 提供了一个完整的应用开发框架，用于编写在网络浏览器中运行的全功能应用。尽管 HTML5 规范尚未完全完成，但从台式机到平板电脑再到智能手机，几乎所有运行在设备上的现代浏览器都已经广泛支持最受欢迎的功能。这意味着您可以编写一个应用，并让它在几乎任何设备上运行。

如果你正在寻找开始编写 HTML5 网络应用，但不知道从哪里开始，那么这本书是为你准备的。我们将从构建 web 应用的基础开始，然后通过构建真实的工作应用来学习 HTML5、CSS3 和 JavaScript。这不是参考书。我们将把理论保持在最低水平，把动手编码保持在最高水平。

就在几年前，在浏览器中编写全功能应用还需要其他技术，例如作为浏览器插件运行的 Flash 或 Java Applets。像大多数人一样，我只使用 JavaScript 编写简单的客户端验证脚本。我甚至不认为使用 JavaScript 编写真正的应用是可能的。当一些事情发生时，这一切都开始改变。

首先，我发现了 jQuery。这里有一个库，通过抽象出浏览器的特性，并使操作网页的元素变得非常容易，使得编写 JavaScript 变得非常容易。此外，它可以帮助我们执行一些很酷的动作，比如制作元素动画。然后大约三年前，我在寻找一种将图形图元直接绘制到网页上的方法时，发现了 HTML5。从那以后，我看到 HTML5 发展成一个完整的框架，能够用来编写没有插件的真实应用。

这本书是过去三年几乎每天编写 JavaScript 的高潮，学习什么有效，什么无效。如果你愿意的话，这是一个技术性的大脑垃圾。目标是写一本我刚开始读的书。

HTML5 网络应用开发的未来看起来很光明。网络浏览器开发领域的所有重量级人物都全力支持 HTML5 和 JavaScript。HTML5 是 web 应用开发的未来！

# 这本书涵盖了什么

[第 1 章](01.html "Chapter 1. The Task at Hand")*手头的任务*将通过构建一个可以用来开始编写新应用的模板来教你 JavaScript 应用的基本组件。然后我们将创建一个任务列表应用，在这里我们将学习如何操作 DOM 以及如何使用 HTML5 网络存储来保存应用的状态。

[第 2 章](02.html "Chapter 2. Let's Get Stylish")、*让我们变得时尚*，将展示如何使用新的 CSS3 功能为您的 web 应用添加专业外观的样式，包括圆角、阴影和渐变。我们还将学习如何使用 CSS 精灵来提高加载图像的效率。

[第 3 章](03.html "Chapter 3. The Devil is in the Details")、*魔鬼在细节*将通过在任务列表应用中添加细节部分来教你新的 HTML5 表单输入类型。我们还将学习自定义数据属性，并学习如何使用它们将视图中的数据绑定到模型。

[第 4 章](04.html "Chapter 4. A Blank Canvas")*一张空白画布*，将展示如何使用新的画布元素和 API，通过创建一个绘图应用直接在网页上绘图。我们还将学习如何处理触摸屏设备上的触摸事件。

[第 5 章](05.html "Chapter 5. Not So Blank Canvas")、*不那么空白画布*将继续讲授画布，向您展示如何使用新的文件应用编程接口将图像从画布导出并加载到画布中。然后我们将进入像素级，学习如何直接操作画布图像数据。

[第六章](06.html "Chapter 6. Piano Man")*钢琴人*，将教你如何使用 Audio 元素和 API 在网页中播放声音。我们将创建一个虚拟钢琴，当按键被点击时播放声音。

[第七章](07.html "Chapter 7. Piano Hero")、*钢琴英雄*，将会把上一章的虚拟钢琴，变成玩家必须在正确的时间弹奏一首歌的正确音符才能获得积分的游戏。在这个过程中，我们将学习使用 JavaScript 计时器和动画元素。

[第 8 章](08.html "Chapter 8. A Change in the Weather")*天气的变化*，将向您展示如何从服务器获取数据并使用 Ajax 与网络服务对话。我们将构建一个天气小部件，使用地理定位应用编程接口获取用户的位置，并使用来自网络服务的数据显示他们的本地天气报告。

[第 9 章](09.html "Chapter 9. Web Workers Unite")、*Web Workers United*，将教你如何使用 HTML5 web workers 在单独的线程中执行长时间运行的进程，让你的应用更具响应性。我们将创建一个应用，使用网络工作器将曼德勃罗分形绘制到画布上。

[第 10 章](10.html "Chapter 10. Releasing an App into the Wild")*将一款 App 发布到野外*，将教你如何在向世界发布之前，使用 JavaScript 压缩器来组合和压缩你的应用的 JavaScript 文件。我们还将学习如何通过使用 HTML5 应用缓存来创建可以脱机使用的应用。

# 这本书你需要什么

HTML5 的伟大之处在于使用它没有成本。开发 web 应用不需要任何特殊的工具或许可证。然而，使用一个好的代码编辑器会对你有很大的帮助，尤其是在你开始的时候。没有什么比 autosuggest 更能帮助您记住 JavaScript 函数、元素名称和样式选项了。语法突出显示对于使代码更容易阅读至关重要。

也就是说，如果你还没有源代码编辑器，我可以推荐几个。Notepad++是一个免费的编辑器，带有 JavaScript、HTML 和 CSS 语法高亮显示和一些基本的自动提示，没有很多开销。我用它写了这本书里的所有代码。在高端，微软 Visual Studio 提供了非常好的自动建议功能，但比基本的文本编辑器开销更大。另一个很好的选择是 NetBeans，这是一个用 Java 编写的开源 IDE，有很好的 web 开发支持。

您还需要一个具有良好的 HTML5 支持和开发工具的网络浏览器。大多数浏览器的最新版本都支持本书中使用的 HTML5 特性。您使用的浏览器应该取决于哪个浏览器拥有您最喜欢的开发工具。我使用 Chrome 是因为它内置了很棒的开发工具。安装了 Firebug 插件的火狐也很不错。对于这本书，我使用 Chrome 作为首选浏览器。Internet Explorer 9 并不完全支持我们将要学习的所有 HTML5 功能，开发人员工具也不如其他工具，因此我会远离使用它进行开发。

您可能需要的另一件事是一个网络服务器，如 IIS 或 Apache。大多数情况下，在开发过程中，您可以直接从文件系统打开 web 应用。然而，某些 HTML5 特性只能通过网络服务器工作。我已经注意到这本书里有这样的地方。

# 这本书是给谁的

这本书是为有其他语言经验，想开始编写 HTML5 web 应用的程序员准备的。你应该对 HTML、CSS 和 JavaScript 有一些基本的了解。例如，您应该知道如何编写简单的 HTML 文档。您还应该知道使用 CSS 选择器的基础知识，因为它们对使用 jQuery 很重要。您不需要知道如何使用 jQuery，因为这本书将简要介绍基础知识，但会很有帮助。只要你能理解并编写简单的 JavaScript 代码，这应该足以让你继续前进。我们将从最基本的开始，通过大量的例子逐步提高。

# 惯例

在这本书里，你会发现几个标题经常出现。

为了给出如何完成程序或任务的明确指示，我们使用:

# 行动时间-航向

1.  行动 1
2.  行动 2
3.  行动 3

指令通常需要一些额外的解释，这样它们才有意义，所以它们后面跟着:

## *刚刚发生了什么？*

本标题解释了您刚刚完成的任务或说明的工作。

你还可以在书中找到一些其他的学习辅助工具，包括:

## 突击测验–标题

这些是简短的选择题，旨在帮助你测试自己的理解。

## 加油英雄——前进

这些实际的挑战给了你尝试你所学的想法。

您还会发现许多区分不同类型信息的文本样式。以下是这些风格的一些例子，以及对它们的含义的解释。

文本中的码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、伪 URL、用户输入和 Twitter 句柄如下所示:“接下来，我们将向`Canvas2D`对象添加一个`drawText()`方法。”

代码块设置如下:

```html
this.drawText = function(text, point, fill)
{
    if (fill)
    {
        context.fillText(text, point.x, point.y);
    }
    else
    {
        context.strokeText(text, point.x, point.y);
    }
};
```

当我们希望将您的注意力吸引到代码块的特定部分时，相关的行或项目以粗体显示:

```html
switch (action.tool)
{
    // code not shown...
    case "text":
 canvas2d.drawText(action.text, action.points[0],
 action.fill);
 break;
}
```

**新的** **术语**和**重要的** **词语**以粗体显示。你在屏幕上看到的单词，比如在菜单或对话框中，出现在这样的文本中:“当点击**保存**按钮时，它会获得数据网址，然后打开它。”

### 注

警告或重要提示会出现在这样的框中。

### 类型

提示和技巧是这样出现的。

# 读者反馈

我们随时欢迎读者的反馈。让我们知道你对这本书的看法——你喜欢或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大收益的标题非常重要。

要给我们发送一般反馈，只需向`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`发送电子邮件，并通过您消息的主题提及书名。

如果你对某个主题有专业知识，并且对写作或投稿感兴趣，请参阅我们在[www.packtpub.com/authors](http://www.packtpub.com/authors)上的作者指南。

# 客户支持

现在，您已经自豪地拥有了一本书，我们有许多东西可以帮助您从购买中获得最大收益。

## 下载示例代码

您可以从您在[http://www.packtpub.com](http://www.packtpub.com)的账户中下载您购买的所有 Packt 书籍的示例代码文件。如果您在其他地方购买了这本书，您可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 勘误表

尽管我们尽了最大努力来确保我们内容的准确性，但错误还是会发生。如果你在我们的某本书里发现了错误——可能是文本或代码中的错误——如果你能向我们报告，我们将不胜感激。通过这样做，你可以让其他读者免受挫折，并帮助我们改进这本书的后续版本。如果您发现任何勘误表，请访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误表** **提交** **表格**链接，并输入您的勘误表详情。一旦您的勘误表得到验证，您的提交将被接受，勘误表将被上传到我们的网站，或添加到该标题的勘误表部分下的任何现有勘误表列表中。

## 盗版

互联网上版权材料的盗版是所有媒体的一个持续问题。在 Packt，我们非常重视版权和许可证的保护。如果您在互联网上遇到任何形式的我们作品的非法拷贝，请立即向我们提供位置地址或网站名称，以便我们寻求补救。

请通过`<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`联系我们，获取疑似盗版资料的链接。

我们感谢您在保护我们作者方面的帮助，以及我们为您带来有价值内容的能力。

## 问题

如果您对本书的任何方面有问题，可以在`<[questions@packtpub.com](mailto:questions@packtpub.com)>`联系我们，我们将尽最大努力解决。