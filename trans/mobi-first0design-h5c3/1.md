# 第一章。移动优先–方式和原因？

如果你的业务是建立/维护一个公司的网站或者为一个机构建立网站，你可以也应该使用移动优先策略。为什么呢？因为它对你的最终产品有价值。你最终会得到一个大多数人都能在所有可能的设备和浏览器上使用的网站。

这本书是针对初学者和中级开发人员以及设计师。它也旨在为那些希望更深入地了解网络上的现代工具和策略的可能性(以及不太实用的可能性)的商业和管理人员服务。本书中的代码示例，当逐步使用时，应该可以帮助任何有基本开发技能的人更深入地理解什么是可能的，以及它是如何可能的。当然，我喜欢构建东西，我每天都在做，但是对于我们这些也必须为客户和同事制定策略和教育的人来说，掌握如何创建移动第一网站的程序知识比仅仅掌握理论和概念知识要好得多。

# 什么是响应式网页设计？

**响应性网页设计** ( **RWD** ) 是一套用于在不同大小的屏幕上显示网页的策略。这些策略利用了现代浏览器中可用的特性以及渐进增强的策略(而不是优雅的降级)。这些流行语是怎么回事？好吧，再一次，一旦我们深入研究过程和代码，它将变得更有意义。但是这里有一个快速的例子来说明在 RWD 使用的双向渐进增强。

假设您想制作一个漂亮的按钮，它是一个大目标，可以在各种移动设备上用又大又胖的笨拙拇指可靠地按下。事实上，你希望这个按钮能够覆盖人类已知的所有移动设备。这不是问题。以下代码是您的(大大简化的)HTML 的外观:

```html
<!DOCTYPE html>
  <head>
    <link rel="stylesheet" href="css/main.css">
  </head>
  <body>
    <button class="big-button">Click Me!</button>
  </body>
</html>
```

下面的代码就是你的 CSS 的样子:

```html
.big-button {
  width: 100%;
  padding: 8px 0;
  background: hotPink;
  border: 3px dotted purple;
  font-size: 18px;
  color: #fff;
  border-radius: 20px;
  box-shadow: #111 3px 4px 0px;
}
```

### 类型

**下载示例代码**

您可以从您在[http://www.PacktPub.com](http://www.PacktPub.com)的账户中下载您购买的所有 Packt 书籍的示例代码文件。如果您在其他地方购买了这本书，您可以访问[http://www.PacktPub.com/support](http://www.PacktPub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

这样你就有了一个按钮，可以拉伸文档主体的宽度。同样是热粉色，带点紫色边框，黑色阴影很浓(不要评判我的设计选择)。

下面是这段代码的优点。让我们用一些想象中的设备/浏览器来分解 CSS，以说明本节第一段中的一些流行语:

*   设备一(代号:金发姑娘):这款设备有现代浏览器，屏幕尺寸 320 x 480 px。它是定期更新的，所以很可能有你在你最喜欢的博客中读到的所有酷浏览器功能。
*   设备二(代号:熊宝宝):这款设备有一个浏览器部分支持 CSS2，文档化很差，以至于只能通过试错或者论坛才能搞清楚支持哪些风格。屏幕为 320 x 240 px。这描述了一种设备，它早于在移动设备上浏览网页的现代采用水平，但是你的用例可能需要你支持它。
*   设备三(代号:熊爸爸):这是一台带有现代浏览器的笔记本电脑，但你永远不会知道屏幕尺寸，因为视口大小是由用户控制的。

因此，金发女孩得到如下显示:

![What is Responsive Web Design?](img/6463_01_01.jpg)

因为它全部用完整的 CSS3 特性装饰，它将渲染圆角和阴影。

![What is Responsive Web Design?](img/6463_01_02.jpg)

另一方面，的熊宝宝只会得到方形的角，没有投影(上一张截图中看到的)，因为它的浏览器无法理解那些样式声明，只会对它们不做任何处理。不过，这并不是什么大不了的事情，因为你仍然可以获得这个按钮的重要特性；它拉伸了屏幕的整个宽度，使其成为世界上所有拇指的大目标(同样，它仍然是粉色的)。

熊爸爸也获得了 CSS3 所有好东西的按钮。

![What is Responsive Web Design?](img/6463_01_03.jpg)

也就是说，无论用户的浏览器有多宽，它都会扩展浏览器的整个宽度。我们只需要它有 480 px 左右的宽度，就可以让它足够大，让用户在我们想象的任何设计中点击并看起来合理。因此，为了实现这一点，我们将利用名为`@media`查询的漂亮的 CSS3 特性。我们将在本书中广泛使用这些，并使您的样式表如下所示:

```html
.big-button {
  width: 100%;
  padding: 8px 0;
  background: hotPink;
  border: 3px dotted purple;
  font-size: 18px;
  color: #fff;
  border-radius: 20px;
  box-shadow: #111 3px 3px 0px;
}

@media only screen and (min-width: 768px){
  .big-button { 
    width: 480px;
  }
}
```

现在，如果你和我一起编写代码，并且有一个现代浏览器(意思是一个支持 HTML5 规范中大多数(如果不是全部的话)特性的浏览器，稍后会有更多)，你可以做一些有趣的事情。您可以调整浏览器的宽度，以查看开始按钮对`@media`查询的响应。从浏览器真正变窄开始，按钮会变宽，直到屏幕变宽到 768 像素；除此之外，这个按钮将会迅速变成只有 480 像素。如果你的浏览器宽度超过 768 像素，按钮宽度将保持 480 像素，直到你的浏览器宽度低于 768 像素。一旦它低于这个阈值，按钮就会变成全宽。

发生这种情况是因为媒体查询。这个查询本质上是问浏览器几个问题。查询的第一部分是关于它是什么类型的介质(打印还是屏幕)。查询的第二部分询问屏幕的最小宽度是多少。当浏览器对`screen`和`min-width 768px`都回答“是”时，就满足了在该媒体查询中应用样式的条件。说应用了这些风格有点误导。事实上，该方法实际上利用了媒体查询中提供的样式可以覆盖样式表中先前设置的其他样式这一事实。在我们的例子中，唯一应用的样式是按钮的显式宽度，它覆盖了之前设置的百分比宽度。

所以，好的一点是，我们可以制作一个网站，它可以显示不同的屏幕尺寸。这种方法重用了大量代码，只在不同屏幕宽度需要时应用样式。让移动设备使用可用网站的其他方法需要维护多个代码库，并且必须求助于设备检测，这只有在您能够实际检测到哪个设备正在请求您的网站时才有效。这些其他方法可能很脆弱，也打破了编程的**不要重复自己** ( **干** ) 戒律。

不过，这本书将以一种特殊的方式来探讨 RWD。我们将使用 **320 和 Up** 框架来促进移动优先战略。简而言之，这个策略假设请求站点的设备有一个小屏幕，不一定有很多处理能力。320 和 Up 也有很多很好的助手，使其快速和容易地产生许多客户在其网站上需要的功能。但是，我们将进入这些细节，因为我们一起建立一个简单的网站。

### 注

请注意，有很多框架可以帮助您构建响应性网站，甚至有一些可以帮助您构建响应性、移动性第一的网站。区别 320 和 Up 的一点是，它比大多数框架不那么固执己见。我喜欢它，因为它很简单，而且免去了设置可能用于许多网站的东西的繁忙工作。我还喜欢它是开源的，可以和静态网站以及任何服务器端语言一起使用。

# 先决条件

在我们开始构建之前，你需要下载与本书相关的代码。它将拥有您需要的所有组件，并为您构建了适当的结构。如果你自己的项目想要 320 及以上，可以从*安迪·克拉克*(他是负责 320 及以上的家伙)的网站或者他的 GitHub 账号上获得。我也在自己的 GitHub 回购中维持一个分叉。

## 安迪·克拉克的遗址

[http://stuffandnonsense.co.uk/projects/320andup/](http://stuffandnonsense.co.uk/projects/320andup/)

## GitHub

[https://github . com/malarkey/320 andp](https://github.com/malarkey/320andup)

## 我的 GitHub Fork

[https://github . com/jasongzales 23/320 andap](https://github.com/jasongonzales23/320andup)

也就是说，跟随这本书到达的最简单的路线是从:[https://github.com/jasongonzales23/mobilefirst_book](https://github.com/jasongonzales23/mobilefirst_book)获取我为你打包的代码

# 总结

在这一章中，我们看了一个简单的例子，说明响应性网页设计策略如何将相同的内容提供给不同大小的屏幕，并使布局适应屏幕显示。我们为粉色按钮写了一个简单的例子，并获得了 320 和 Up 的链接，这样我们就可以开始构建一个完整的移动第一响应网站。